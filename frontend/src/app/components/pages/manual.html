
<h1 id="manual">Manual</h1>

<h2 id="i-want-to-">I want to ...</h2>
<p><a pageScroll [pageScrollDuration]="0" [pageScrollOffset]="66" [routerLink]="['./']" fragment="its-just-text">... get an impression of what I have to face if I want to learn Werckmeister</a></p>
<p><a pageScroll [pageScrollDuration]="0" [pageScrollOffset]="66" [routerLink]="['./']" fragment="setup-a-piece">... setup a piece</a></p>
<p><a pageScroll [pageScrollDuration]="0" [pageScrollOffset]="66" [routerLink]="['./']" fragment="write-melodies">... write melodies</a></p>
<p><a pageScroll [pageScrollDuration]="0" [pageScrollOffset]="66" [routerLink]="['./']" fragment="write-for-drums">... write for drums</a></p>
<p><a pageScroll [pageScrollDuration]="0" [pageScrollOffset]="66" [routerLink]="['./']" fragment="accomp-my-melodies">... accomp my melodies</a></p>
<p><a pageScroll [pageScrollDuration]="0" [pageScrollOffset]="66" [routerLink]="['./']" fragment="chords">... setup my own chord symbols</a></p>
<p><a pageScroll [pageScrollDuration]="0" [pageScrollOffset]="66" [routerLink]="['./']" fragment="commands">... see an overview of all commands</a></p>
<p><a pageScroll [pageScrollDuration]="0" [pageScrollOffset]="66" [routerLink]="['./']" fragment="lua-extensions">... see an overview of lua extensions</a></p>
<h2 id="its-just-text">It&#39;s just text</h2>
<p>The Werckmeister language knows only a few statement types. It&#39;s all about tracks, voices, and events. That&#39;s it. 
<br>The remaining statements are just for configuration purposes.</p>
<p>A basic Werckmeister document will look like this:</p>
<tutorialsnippet lineHeight="25" lineOffset="0"><pre><code appWerckmeisterCode><![CDATA[-- CONFIG STUFF:
-- 1) configure your MIDI device
-- 2) define an instrument with the name piano
-- 3) set the tempo

-- 1)
--      name         type portnumber
device: MyMidiDevice midi 1;

-- 2)
--             name  device       ch  cc pc
instrumentDef: piano MyMidiDevice  0   0  0;
-- (ch= channel, pc= programm change, cc= control change)

-- 3)
tempo: 130;

-- TRACKS, VOICES & EVENTS
-- now the actual musical statement, which is a track containing one voice with some note events
-- (the track is set up to use our piano instrument from above)
[
instrument: piano;
{
    c4 d e f | g1 --note events
}
]]]></code></pre></tutorialsnippet><h2 id="tracks-and-voices">Tracks and Voices</h2>
<p>A track in Werckmeister has excactly the same meanig as it has in a MIDI file.
It is related to an instrument and contains events.</p>
<p>A track begins with a <code>[</code> and ends with a <code>]</code>.</p>
<tutorialsnippet lineHeight="6" lineOffset="0"><pre><code appWerckmeisterCode><![CDATA[-- a track with one voice and an instrument setup

[
{
    c d e f | g a b c'
}
]]]></code></pre></tutorialsnippet><p>All events of a track are releated at least to one voice. A voice starts with <code>{{</code> and ends with <code>}}</code>.
If you want to write polyphonic melody lines, you can add more voices to your track. </p>
<p><img src="https://raw.githubusercontent.com/SambaGodschynski/werckmeister/master/assets/poly.png" alt="a polyphonic melody"></p>
<p>The melody above would be written like this:</p>
<tutorialsnippet lineHeight="10" lineOffset="0"><pre><code appWerckmeisterCode><![CDATA[-- a track with two voices

[
{
    g4  f#8 g  a4   g
}
{
    d4   d     d    d
}
]
]]></code></pre></tutorialsnippet><h2 id="events">Events</h2>
<p>There are a few event types:</p>
<h3 id="note-events">Note Events</h3>
<p>have a pitch and a duration, to be performed by a MIDI instrument.</p>
<pre><code><![CDATA[c d e f g]]></code></pre><h3 id="degree-events">Degree Events</h3>
<p>have a relative pitch degree and a duration. In combination with a chord, degree events can be transformed into regular note events.</p>
<pre><code><![CDATA[I II III IV V VI VII]]></code></pre><h3 id="chord-events">Chord Events</h3>
<p>Events which are related to a name. They also store the information which interval is used for a degree. These informations are stored in a <a pageScroll [pageScrollDuration]="0" [pageScrollOffset]="66" [routerLink]="['./']" fragment="chords">chord definiton file</a>.</p>
<pre><code><![CDATA[C7 D-7 E-7 F7 Gmaj7 A-7]]></code></pre><h3 id="meta-events">Meta Events</h3>
<p>Events to set up something or loading a mod script.
<br>You can recognize meta events by its slashes at the beginning and the end.</p>
<tutorialsnippet lineHeight="5" lineOffset="7"><pre><code appWerckmeisterCode><![CDATA[tempo: 120;
device: MyDevice  midi 1;
instrumentDef:ex1  MyDevice  0 0 0;
[
instrument: ex1;
{


/tempo: 100/ -- meta event: set tempo to 100
c d e f |
/tempo: 50/
g a b c'




}
]]]></code></pre></tutorialsnippet><h2 id="setup-a-piece">Setup A Piece</h2>
<h3 id="using">Using</h3>
<p>The first thing you want to do in a Werckmeister document, is to load include other files to your project. This may be chord definitions, accomp. templates or modulation scripts.</p>
<p>To include a file use the <code>using</code> command.</p>
<pre><code><![CDATA[using "./chords/default.chords";]]></code></pre><p>The path of your file is written between double quotes (<code>&quot;</code>).</p>
<p>The path can be absolute or relative to the current document.
<em>(It is recommended to use relative path values)</em></p>
<h3 id="devices--instruments">Devices &amp; Instruments</h3>
<h4 id="adding-a-device">Adding a device</h4>
<p>To add a MIDI device to your project, use the device statement. With that statement, you have to choose a name and set a MIDI port for your new device.</p>
<p>device statement format:</p>
<p><code>device: aName midi aMidiPort [offset millis]</code></p>
<p>To see which devices with what port are connected to your device run the player with the <code>--list</code> argument: </p>
<pre><code><![CDATA[sheetp --list]]></code></pre><p>you will get a output like this:</p>
<pre><code><![CDATA[0: Midi Through
1: SC-8850 Part A
2: SC-8850 Part B
3: SC-8850 Part C
4: SC-8850 Part D
5: USB-Midi Port]]></code></pre><p>where the first number means the port number.</p>
<p>So lets say we want to add the <code>SC-8850 Part A</code> to our project, we write:</p>
<pre><code><![CDATA[device: MyRoland midi 1;]]></code></pre><p>To add a further MIDI port, for example a DX7 on the USB-Midi Port we add another line:</p>
<pre><code><![CDATA[device: MyRoland midi 1;
device: MyDX7 midi 5;]]></code></pre><p>Imagine your USB-Midi Port is a bit cheap and laggy. Every signal to your USB-Midi port has a delay of about 20 milliseconds. We can compensate this by adding a 20 milliseconds delay to the <code>MyRoland</code> device, so that this device and your laggy USB-Midi Port should be in sync. We do this by using an optional <code>offset</code> argument.</p>
<pre><code><![CDATA[device: MyRoland midi 1 offset 20;
device: MyDX7 midi 5;]]></code></pre><h4 id="adding-instruments">Adding instruments</h4>
<p>To adding instruments we using the <code>instrumentDef</code> statement, which is constructed like this:</p>
<p><code>instrumentDef: aInstrumentName aMidiDevice midiChannel midiControlChange midiProgramChange</code></p>
<p>Let&#39;s add an organ instrument which uses our Roland device from above:</p>
<p>The Roland SC-8850 offers, for example, a <code>Farf Organ</code>. So if I want to use this instrument on channel 0, I have to send a <code>cc=19 pc=17</code> sequence to the channel on this device.<br>A suitable <code>instrumentDef</code> statement would be look as follows: </p>
<pre><code><![CDATA[--             name      device   ch   cc   pc
instrumentDef: myFarfisa MyRoland  0   19   17;]]></code></pre><h4 id="configuring-instruments">Configuring instruments</h4>
<p>With an instrument added there are further options to configure it.
A config statement has as first argument the instrument name you want to configure followed by several optional config aruments.</p>
<p><code>instrumentConf: aInstrumentName [pan aValue] [volume aValue] [voicingStrategy aStrategyName] [mod aModName];</code></p>
<table class="table table-bordered">
<thead>
<tr>
<th>option</th>
<th>value</th>
<th>purpose</th>
</tr>
</thead>
<tbody><tr>
<td>volume</td>
<td>0..100</td>
<td>set the volume</td>
</tr>
<tr>
<td>pan</td>
<td>0..100</td>
<td>set the pan, 0=left, 50=center, 100=right</td>
</tr>
<tr>
<td>mod</td>
<td>aName [option value]</td>
<td>set a <a pageScroll [pageScrollDuration]="0" [pageScrollOffset]="66" [routerLink]="['./']" fragment="mods">mod</a></td>
</tr>
<tr>
<td>voicingStrategy</td>
<td>aName [option value]</td>
<td>set a <a pageScroll [pageScrollDuration]="0" [pageScrollOffset]="66" [routerLink]="['./']" fragment="voicing-strategies">voicingStrategy</a></td>
</tr>
<tr>
<td>dynamics expression (ppppp-fffff)</td>
<td>0..100</td>
<td>overwrite default velocity mapping</td>
</tr>
</tbody></table>
<p>Now, as an example we set a volume value of 80 to our Farfisa organ, also we set the pan more to the left.</p>
<p><em>(the final result of these settings is strongly dependent by your actual MIDI device)</em> </p>
<pre><code><![CDATA[instrumentConf: myFarfisa volume 80 pan 20;]]></code></pre><h3 id="tempo">Tempo</h3>
<p>To set the tempo of your piece, write <code>tempo: aNumber</code>.</p>
<tutorialsnippet lineHeight="5" lineOffset="0"><pre><code appWerckmeisterCode><![CDATA[tempo 120;
[
{
    c d e f | g a b c'
}
]]]></code></pre></tutorialsnippet><p>Sometimes you want to setup diffent tempi for for several voices.
Then you have to add a tempo <a pageScroll [pageScrollDuration]="0" [pageScrollOffset]="66" [routerLink]="['./']" fragment="meta-events">Meta Event</a> to your voice.</p>
<p><em>since MIDI doesn&#39;t support simultaneous tempi, we achive this effect by streching or shrinking the note durations in relation to the main tempo (Augmentation/Diminution). As an simple example: on double time we pay eights instead of fourths.</em></p>
<p>Here we play four voices on one track, with four different tempo configurations:</p>
<p><strong>There seems to be a bug on the webplayer (first notes are missing)</strong></p>
<tutorialsnippet lineHeight="19" lineOffset="0"><pre><code appWerckmeisterCode><![CDATA[tempo: 120;
[
{
    /tempo: double/
    c d e f | g a b c' | c d e f | g a b c'
}
{
    /tempo: half/
    c, d, e, f |
}
{
    /signature: 3 4/
    /tempo: 96/
   c e f | g b c'
}
{
    c,, d,, e,, f,, | g,, a,, b,, c,
}
]
]]></code></pre></tutorialsnippet><p>Also it is possible to change the tempo in between events:</p>
<tutorialsnippet lineHeight="15" lineOffset="0"><pre><code appWerckmeisterCode><![CDATA[tempo: 120;
[
{
    /tempo: double/
    c d e f | g a b c' |
    /tempo: half/
    c d e f | g a b c' |
    /signature: 3 4/
    /tempo: 96/
    c d e | f g a |
    /signature: 4 4/
    /tempo: normal/
    c d e f | g a b c' |
}
]
]]></code></pre></tutorialsnippet><h3 id="time-signatures">Time Signatures</h3>
<p>The time signature 4/4 by default.
If you want to setup a different time signature than the default, you can achieve this by using the signature <a pageScroll [pageScrollDuration]="0" [pageScrollOffset]="66" [routerLink]="['./']" fragment="Meta-Events">meta event</a>.
With this you are able to setup different time signatures during a piece.</p>
<tutorialsnippet lineHeight="7" lineOffset="0"><pre><code appWerckmeisterCode><![CDATA[[
{
    /signature: 3 4/
    c e e | c e e |
    /signature: 4 4/
    c d e f | g a b c'
}
]]]></code></pre></tutorialsnippet><h3 id="key-signatures">Key Signatures</h3>
<p>key signatures are not supported.</p>
<h2 id="write-melodies">Write Melodies</h2>
<h3 id="notes">Notes</h3>
<p>The syntax is loosely inspired by the <a href="http://lilypond.org">lilypond</a> notation syntax. A note is just a letter followed by a number for its duration.</p>
<p><em>If a note has no duration, the last assigned duration will be used.</em></p>
<tutorialsnippet lineHeight="2" lineOffset="7"><pre><code appWerckmeisterCode><![CDATA[tempo: 120;
device: MyDevice  midi 1;
instrumentDef:ex1  MyDevice  0 0 0;
[
instrument: ex1;
{


c4 d e8 f


}
]]]></code></pre></tutorialsnippet><p><br><em>c and d will be played as quarter notes, e and f as eighth notes</em></p>
<p>the end of a bar is marked by a pipe: <code>|</code></p>
<tutorialsnippet lineHeight="2" lineOffset="7"><pre><code appWerckmeisterCode><![CDATA[tempo: 120;
device: MyDevice  midi 1;
instrumentDef:ex1  MyDevice  0 0 0;
[
instrument: ex1;
{


c d e f | g a b c'


}
]]]></code></pre></tutorialsnippet><h3 id="octaves">Octaves</h3>
<p>Lower octaves are marked by a comma (<code>,</code>) after the note, upper octaves by a single quote (<code>&#39;</code>).</p>
<tutorialsnippet lineHeight="2" lineOffset="7"><pre><code appWerckmeisterCode><![CDATA[tempo: 120;
device: MyDevice  midi 1;
instrumentDef:ex1  MyDevice  0 0 0;
[
instrument: ex1;
{


c,,  e,,  g,, b,, | c, e, g, b, | c e g b | c' e' g' b' | c'' e'' g'' b''


}
]]]></code></pre></tutorialsnippet><h3 id="accidentals">Accidentals</h3>
<p><code>#</code> raises a pitch by a half step.
<br> A <code>b</code> lowers it. </p>
<tutorialsnippet lineHeight="2" lineOffset="7"><pre><code appWerckmeisterCode><![CDATA[tempo: 120;
device: MyDevice  midi 1;
instrumentDef:ex1  MyDevice  0 0 0;
[
instrument: ex1;
{


c# d# f# g# | bb db' eb' gb'


}
]]]></code></pre></tutorialsnippet><h3 id="durations">Durations</h3>
<p>A numeric value after a note marks its duration.</p>
<tutorialsnippet lineHeight="2" lineOffset="7"><pre><code appWerckmeisterCode><![CDATA[tempo: 120;
device: MyDevice  midi 1;
instrumentDef:ex1  MyDevice  0 0 0;
[
instrument: ex1;
{


c2 c4 c8 c16 c32 c64 c128 r


}
]]]></code></pre></tutorialsnippet><h3 id="intervals-and-chords">Intervals and Chords</h3>
<p>Notes that have to sound simultaneous are written in angle brackets. The duration is written after the brackets.</p>
<p><img src="https://raw.githubusercontent.com/SambaGodschynski/werckmeister/master/assets/chords.png" alt="two chords"></p>
<tutorialsnippet lineHeight="2" lineOffset="7"><pre><code appWerckmeisterCode><![CDATA[tempo: 80;
device: MyDevice  midi 1;
instrumentDef:ex1  MyDevice  0 0 0;
[
instrument: ex1;
{


<g,, c e g bb>4   <c, c eb g bb>2.


}
]]]></code></pre></tutorialsnippet><h3 id="augmentation-dots--ties">Augmentation Dots &amp; Ties</h3>
<p>To write a augmentation dot (<code>.</code>) append a dot after a note duration value.
<br>For ties use a tilde (<code>~</code>) instead. </p>
<p><img src="https://raw.githubusercontent.com/SambaGodschynski/werckmeister/master/assets/dotsties.png" alt="dots and ties"></p>
<tutorialsnippet lineHeight="2" lineOffset="7"><pre><code appWerckmeisterCode><![CDATA[tempo: 120;
device: MyDevice  midi 1;
instrumentDef:ex1  MyDevice  0 0 0;
[
instrument: ex1;
{


c2. c4 | c2~ c4 c


}
]]]></code></pre></tutorialsnippet><h3 id="tuplets">Tuplets</h3>
<p>To write tuplets of any kind you just have to write notes encloded by parentheses followed by a duration value. For example: <code>(c c c)4</code>.
These three notes will now be played in the time of one quarter.</p>
<p>It doesn&#39;t matter if you write <code>(c2 c2 c2)4</code> or <code>(c8 c8 c8)4</code> because you have three notes with equal durations to be played in the time of one quarter.</p>
<p><em>The relations between the notes are vital, not their absolute durations.</em></p>
<p><img src="https://raw.githubusercontent.com/SambaGodschynski/werckmeister/master/assets/tuplets.png" alt="n-tole examples with 3,7 and 9"></p>
<tutorialsnippet lineHeight="2" lineOffset="7"><pre><code appWerckmeisterCode><![CDATA[tempo: 60;
device: MyDevice  midi 1;
instrumentDef:ex1  MyDevice  0 0 0;
[
instrument: ex1;
{


(c8 c c)4   (c8 c c c c)4  (c8 c c c c c c)4  (c8 c c c c c c c c)4


}
]]]></code></pre></tutorialsnippet><h3 id="nested-tuplets">Nested Tuplets</h3>
<p>You are also able to write nested tuplets:</p>
<p><img src="https://raw.githubusercontent.com/SambaGodschynski/werckmeister/master/assets/blackpages.png" alt="a example of nested tuplets"></p>
<tutorialsnippet lineHeight="2" lineOffset="7"><pre><code appWerckmeisterCode><![CDATA[tempo: 60;
device: MyDevice  midi 1;
instrumentDef:ex1  MyDevice  0 0 0;
[
instrument: ex1;
{


b2 ((b c#' c#' b d')  (f' a a bb c')  (e' a' bb' f' c' g))2


}
]]]></code></pre></tutorialsnippet><h2 id="write-for-drums">Write for drums</h2>
<h3 id="pitchmaps">Pitchmaps</h3>
<p>tbd.</p>
<h2 id="accomp-my-melodies">Accomp My Melodies</h2>
<p>Imagine you give your bass player some chords, and he or she asks you how to play these.
<br>You would say something like: play the 1st degree on one and the 5th degree on four. </p>
<p>And this is exactly what you doing when writing style templates.
<br>So in our example above you would write:</p>
<tutorialsnippet lineHeight="25" lineOffset="0"><pre><code appWerckmeisterCode><![CDATA[-- make sure that you have a chord definition loaded
using "chords/default.chords";

device: MyDevice  midi 0;
--             name  device       ch pc cc
instrumentDef:bass  MyDevice      0  0  0;

-- here is the template:
[
type: template;
name: simpleBass;
instrument: bass;
{
    I,,2. V,,4 |
}
]

-- here are some chords:
[
type: accomp;
{
    /template: simpleBass/
    C | F | G | C |
}
]
]]></code></pre></tutorialsnippet><p>Instead of writing absolute notes, you use relative degrees. For example <code>I4</code> means the first degree as a quarter note. </p>
<p><em>If a degree does not appear in a chord, the degree will not played.</em></p>
<p>There are the same rules as for writing absolute <a pageScroll [pageScrollDuration]="0" [pageScrollOffset]="66" [routerLink]="['./']" fragment="notes">notes</a>:</p>
<p>such as:</p>
<ul>
<li>use <code>#</code> or <code>b</code> for sharp or flat</li>
<li>to perform inervals use angle brackes. For example a triad: <code>&lt;I II III&gt;</code></li>
<li>use <code>~</code> for tied and <code>.</code> for dotted notes</li>
<li>create tuplets using parantheses</li>
</ul>
<p>To spiece up our example a bit, we add a second bar which plays an interval with I and III</p>
<tutorialsnippet lineHeight="22" lineOffset="0"><pre><code appWerckmeisterCode><![CDATA[-- make sure that you have a chord definition loaded
using "chords/default.chords";

device: MyDevice  midi 0;
--             name  device       ch pc cc
instrumentDef:bass  MyDevice      0  0  0;

[
type: template;
name: simpleBass;
instrument: bass;
{
    I,,2. V,,4 | <I,, III,>1
}
]

[
type: accomp;
{
    /template: simpleBass/
    C | F | G | C |
}
]]]></code></pre></tutorialsnippet><h2 id="advanced-techniques">Advanced techniques</h2>
<p>(tbd.)</p>
<h5 id="chords">Chords</h5>
<h5 id="voicing-strategies">Voicing strategies</h5>
<h5 id="mods">Mods</h5>
<h5 id="event-tags">Event Tags</h5>
<h5 id="lua-scripts">Lua scripts</h5>
<h2 id="references">References</h2>
<h2 id="commands">Commands</h2>
<ul>
<li><a pageScroll [pageScrollDuration]="0" [pageScrollOffset]="66" [routerLink]="['./']" fragment="device">device</a></li>
<li><a pageScroll [pageScrollDuration]="0" [pageScrollOffset]="66" [routerLink]="['./']" fragment="instrument">instrument</a></li>
<li><a pageScroll [pageScrollDuration]="0" [pageScrollOffset]="66" [routerLink]="['./']" fragment="instrumentconf">instrumentConf</a></li>
<li><a pageScroll [pageScrollDuration]="0" [pageScrollOffset]="66" [routerLink]="['./']" fragment="instrumentdef">instrumentDef</a></li>
<li><a pageScroll [pageScrollDuration]="0" [pageScrollOffset]="66" [routerLink]="['./']" fragment="mod">mod</a></li>
<li><a pageScroll [pageScrollDuration]="0" [pageScrollOffset]="66" [routerLink]="['./']" fragment="modonce">modOnce</a></li>
<li><a pageScroll [pageScrollDuration]="0" [pageScrollOffset]="66" [routerLink]="['./']" fragment="pan">pan</a></li>
<li><a pageScroll [pageScrollDuration]="0" [pageScrollOffset]="66" [routerLink]="['./']" fragment="signature">signature</a></li>
<li><a pageScroll [pageScrollDuration]="0" [pageScrollOffset]="66" [routerLink]="['./']" fragment="tempo">tempo</a></li>
<li><a pageScroll [pageScrollDuration]="0" [pageScrollOffset]="66" [routerLink]="['./']" fragment="voicingstrategy">voicingStrategy</a></li>
<li><a pageScroll [pageScrollDuration]="0" [pageScrollOffset]="66" [routerLink]="['./']" fragment="volume">volume</a></li>
</ul>
<h2 id="lua-extensions">Lua Extensions</h2>
<h3 id="modifications">Modifications</h3>
<ul>
<li><a pageScroll [pageScrollDuration]="0" [pageScrollOffset]="66" [routerLink]="['./']" fragment="drumrudiments">drumRudiments</a></li>
<li><a pageScroll [pageScrollDuration]="0" [pageScrollOffset]="66" [routerLink]="['./']" fragment="guitarstroke">guitarStroke</a></li>
<li><a pageScroll [pageScrollDuration]="0" [pageScrollOffset]="66" [routerLink]="['./']" fragment="legato">legato</a></li>
<li><a pageScroll [pageScrollDuration]="0" [pageScrollOffset]="66" [routerLink]="['./']" fragment="myarpeggio">myArpeggio</a></li>
<li><a pageScroll [pageScrollDuration]="0" [pageScrollOffset]="66" [routerLink]="['./']" fragment="staccato">staccato</a></li>
<li><a pageScroll [pageScrollDuration]="0" [pageScrollOffset]="66" [routerLink]="['./']" fragment="swing">swing</a></li>
</ul>
<h2 id="lua-extensions-1">Lua Extensions</h2>
<h3 id="voicing-strategies-1">Voicing Strategies</h3>
<ul>
<li><a pageScroll [pageScrollDuration]="0" [pageScrollOffset]="66" [routerLink]="['./']" fragment="guitar">guitar</a></li>
<li><a pageScroll [pageScrollDuration]="0" [pageScrollOffset]="66" [routerLink]="['./']" fragment="simple">simple</a></li>
<li><a pageScroll [pageScrollDuration]="0" [pageScrollOffset]="66" [routerLink]="['./']" fragment="voicelead">voicelead</a></li>
</ul>
<h2 id="commands-1">Commands</h2>
<h3 id="device"><code>device</code></h3>
<p>Defines a device which can be used when adding instruments (see <a pageScroll [pageScrollDuration]="0" [pageScrollOffset]="66" [routerLink]="['./']" fragment="instrumentDef">instrumentDef</a>)</p>
<h3 id="examples-1">examples</h3>
<p> <strong>positional:</strong> </p>
<p> <code>device: MyDevice midi 0 offset 100;</code></p>
<p> <strong>named:</strong></p>
<p> <code>device: _setName=MyDevice _isType=midi _usePort=0 _withOffset=100;</code>   </p>
<p> <strong>a complete example</strong></p>
<p> define an device, an instrument and set it to a track.</p>
<p> see <a pageScroll [pageScrollDuration]="0" [pageScrollOffset]="66" [routerLink]="['./']" fragment="instrumentDef">instrumentDef</a>, <a pageScroll [pageScrollDuration]="0" [pageScrollOffset]="66" [routerLink]="['./']" fragment="instrument">instrument</a></p>
<pre><code><![CDATA[
 device: MyDevice midi 0;

 instrumentDef: organ _onDevice=MyDevice _ch=0 _pc=16; 
 [ 
 instrument: organ; 
 { 
    c d e f 
 } 
 ] ]]></code></pre><h4 id="parameters">parameters</h4>
<table class="table table-bordered">
<thead>
<tr>
<th align="left">name</th>
<th align="left">position</th>
<th align="left">description</th>
<th align="left">type</th>
</tr>
</thead>
<tbody><tr>
<td align="left">setName</td>
<td align="left">1</td>
<td align="left">An arbitary name.</td>
<td align="left">word</td>
</tr>
<tr>
<td align="left">isType</td>
<td align="left">2</td>
<td align="left">The type of the device. (Currently the only supported type is <code>midi</code>)</td>
<td align="left">[midi]</td>
</tr>
<tr>
<td align="left">usePort</td>
<td align="left">3</td>
<td align="left">The port id of your device. You can get a list of your connected devices, by executing <code>sheetp --list</code></td>
<td align="left">0..N</td>
</tr>
<tr>
<td align="left">withOffset</td>
<td align="left"></td>
<td align="left">Defines an offset in milliseconds. Can be used to keep different devices in sync.</td>
<td align="left">0..N</td>
</tr>
</tbody></table>
<p><br><br><br></p>
<h3 id="instrument"><code>instrument</code></h3>
<p>Set or change the instrument of a track.</p>
<h3 id="examples-2">examples</h3>
<p> <strong>positional:</strong> </p>
<p> <code>instrument: myInstrument;</code></p>
<p> <strong>named:</strong></p>
<p> <code>instrument: _use=myInstrument;</code></p>
<p> <strong>set an instrument for a track</strong></p>
<pre><code><![CDATA[
 [ 
 instrument: myInstrument; 
 { 
   c d e f 
 } 
 ] ]]></code></pre><p> <strong>change current instrument within a track</strong></p>
<pre><code><![CDATA[
 [ 
 { 
   c d e f | 
   /instrument: myOtherInstrument/

   c d e f

 } 
 ] ]]></code></pre><h4 id="parameters-1">parameters</h4>
<table class="table table-bordered">
<thead>
<tr>
<th align="left">name</th>
<th align="left">position</th>
<th align="left">description</th>
<th align="left">type</th>
</tr>
</thead>
<tbody><tr>
<td align="left">use</td>
<td align="left">1</td>
<td align="left">The instrument name.</td>
<td align="left">word</td>
</tr>
</tbody></table>
<p><br><br><br></p>
<h3 id="instrumentconf"><code>instrumentConf</code></h3>
<p>With <code>instrumentConf</code> you are able to setup a specific instrument.</p>
<p> Following settings can be applied:</p>
<ul>
<li><p>volume</p>
</li>
<li><p>pan</p>
</li>
<li><p>voicing strategy</p>
</li>
<li><p>mod</p>
</li>
<li><p>velocity remap</p>
<h3 id="examples-3">examples</h3>
<h4 id="mixed-settings">mixed settings</h4>
<p><strong>positional:</strong> </p>
<p><code>instrumentConf: piano volume 100 pan 50;</code></p>
<p><strong>named:</strong></p>
<p><code>instrumentConf: _for=piano _set=volume _to=50 _set=pan _to=50;</code></p>
<h4 id="setup-a-mod">setup a mod</h4>
<p><strong>positional:</strong> </p>
<p><code>instrumentConf: piano mod myLuaMod bar; --the bar argument belongs to &quot;myLuaMod&quot;</code></p>
<p><strong>named:</strong></p>
<p><code>instrumentConf: _for=piano _set=mod _use=myLuaMod _myLuaModFoo=bar;</code></p>
<h4 id="setup-a-velocity-remap">setup a velocity remap</h4>
<p>With <code>remapVelocity</code> you are able to change the velocity values behind <code>ppppp..fffff</code> for a specific instrument.</p>
<p>In the example below the velcity for <code>p</code> will be set to 100 and the value for <code>f</code> will be set to 10.</p>
<p>The value range is 0..100. (100=127 Midi velocity)</p>
<p><strong>named:</strong></p>
<p><code>instrumentConf: _set=remapVelocity _p=100 _f=10;</code></p>
<p><strong>positional:</strong></p>
<p><code>remapVelocity</code> dosen&#39;t supports positional arguments</p>
</li>
</ul>
<h4 id="parameters-2">parameters</h4>
<table class="table table-bordered">
<thead>
<tr>
<th align="left">name</th>
<th align="left">position</th>
<th align="left">description</th>
<th align="left">type</th>
</tr>
</thead>
<tbody><tr>
<td align="left">for</td>
<td align="left">1</td>
<td align="left">The name of the target instrument. This is the only &quot;unique&quot; parameter for this command. All further parameters are specific to its related setting.</td>
<td align="left">-</td>
</tr>
</tbody></table>
<p><br><br><br></p>
<h3 id="instrumentdef"><code>instrumentDef</code></h3>
<p>Adds a new MIDI instrument.</p>
<h3 id="examples-4">examples</h3>
<p> <strong>positional:</strong> </p>
<p> <code>instrumentDef: drums MyDevice 9 0 3;</code></p>
<p> <strong>named:</strong></p>
<p> <code>instrumentDef: _setName=drums _onDevice=MyDevice _ch=9 _cc=0 _pc=3;</code></p>
<p> <strong>a complete example</strong></p>
<p> define an device, an instrument and set it to a track.</p>
<p> see <a pageScroll [pageScrollDuration]="0" [pageScrollOffset]="66" [routerLink]="['./']" fragment="instrument">instrument</a>, <a pageScroll [pageScrollDuration]="0" [pageScrollOffset]="66" [routerLink]="['./']" fragment="device">device</a></p>
<pre><code><![CDATA[
 device: MyDevice midi 0;

 instrumentDef: organ _onDevice=MyDevice _ch=0 _pc=16; 
 [ 
 instrument: organ; 
 { 
    c d e f 
 } 
 ] ]]></code></pre><h4 id="parameters-3">parameters</h4>
<table class="table table-bordered">
<thead>
<tr>
<th align="left">name</th>
<th align="left">position</th>
<th align="left">description</th>
<th align="left">type</th>
</tr>
</thead>
<tbody><tr>
<td align="left">setName</td>
<td align="left">1</td>
<td align="left">An arbitary name.</td>
<td align="left">word</td>
</tr>
<tr>
<td align="left">onDevice</td>
<td align="left">2</td>
<td align="left">The device which to use (The name of the device, see <a pageScroll [pageScrollDuration]="0" [pageScrollOffset]="66" [routerLink]="['./']" fragment="device">device</a>).</td>
<td align="left">word</td>
</tr>
<tr>
<td align="left">ch</td>
<td align="left">3</td>
<td align="left">The MIDI channel.</td>
<td align="left">0..15</td>
</tr>
<tr>
<td align="left">cc</td>
<td align="left">4</td>
<td align="left">A MIDI <code>control change</code> value.</td>
<td align="left">0..127</td>
</tr>
<tr>
<td align="left">pc</td>
<td align="left">5</td>
<td align="left">A MIDI <code>program change</code> value.</td>
<td align="left">0..127</td>
</tr>
</tbody></table>
<p><br><br><br></p>
<h3 id="mod"><code>mod</code></h3>
<p>Adds a modification to the track.</p>
<h3 id="examples-5">examples</h3>
<p> <strong>positional:</strong> </p>
<p> <code>/mod: arpeggio/</code></p>
<p> <strong>named:</strong></p>
<p> <code>/mod: _use=arpeggio/</code>  </p>
<p> Mods can be external lua scripts, or one of theese internal mods:</p>
<h4 id="bend">Bend</h4>
<p> <code>/mod: bend _from=0/</code></p>
<h4 id="arpeggio">Arpeggio</h4>
<p> <code>/mod: arpeggio/</code></p>
<h4 id="parameters-4">parameters</h4>
<table class="table table-bordered">
<thead>
<tr>
<th align="left">name</th>
<th align="left">position</th>
<th align="left">description</th>
<th align="left">type</th>
</tr>
</thead>
<tbody><tr>
<td align="left">use</td>
<td align="left">1</td>
<td align="left">The name of the modification to load. This is the only &quot;unique&quot; parameter for this command. All further parameters are specific to its related modification.</td>
<td align="left">word</td>
</tr>
</tbody></table>
<p><br><br><br></p>
<h3 id="modonce"><code>modOnce</code></h3>
<p>Like <a pageScroll [pageScrollDuration]="0" [pageScrollOffset]="66" [routerLink]="['./']" fragment="mod">mod</a>. But with the difference, that the loaded mod will be only executed once for the following event.</p>
<h3 id="examples-6">examples</h3>
<p> <strong>positional:</strong> </p>
<p> <code>/modOnce: arpeggio/</code></p>
<p> <strong>named:</strong></p>
<p> <code>/modOnce: _use=arpeggio/</code></p>
<h4 id="parameters-5">parameters</h4>
<table class="table table-bordered">
<thead>
<tr>
<th align="left">name</th>
<th align="left">position</th>
<th align="left">description</th>
<th align="left">type</th>
</tr>
</thead>
<tbody><tr>
<td align="left">use</td>
<td align="left">1</td>
<td align="left">The name of the modification to load. This is the only &quot;unique&quot; parameter for this command. All further parameters are specific to its related modification.</td>
<td align="left">word</td>
</tr>
</tbody></table>
<p><br><br><br></p>
<h3 id="pan"><code>pan</code></h3>
<p>set the pan of the current track</p>
<h3 id="examples-7">examples</h3>
<p> <strong>positional:</strong> </p>
<p> <code>/pan: 50/</code></p>
<p> <strong>named:</strong></p>
<p> <code>/pan: _to=50/</code></p>
<h4 id="parameters-6">parameters</h4>
<table class="table table-bordered">
<thead>
<tr>
<th align="left">name</th>
<th align="left">position</th>
<th align="left">description</th>
<th align="left">type</th>
</tr>
</thead>
<tbody><tr>
<td align="left">to</td>
<td align="left">1</td>
<td align="left">The pan value. Where 50 means the center</td>
<td align="left">0..100</td>
</tr>
</tbody></table>
<p><br><br><br></p>
<h3 id="signature"><code>signature</code></h3>
<p>Set the time signature of the current track.</p>
<h3 id="examples-8">examples</h3>
<p> <strong>positional:</strong> </p>
<p> <code>/signature: 3 4/</code></p>
<p> <strong>named:</strong></p>
<p> <code>/signature: _upper=3 _lower=4/</code></p>
<h4 id="parameters-7">parameters</h4>
<table class="table table-bordered">
<thead>
<tr>
<th align="left">name</th>
<th align="left">position</th>
<th align="left">description</th>
<th align="left">type</th>
</tr>
</thead>
<tbody><tr>
<td align="left">upper</td>
<td align="left">1</td>
<td align="left">The upper value of the signature.</td>
<td align="left">-</td>
</tr>
<tr>
<td align="left">lower</td>
<td align="left">2</td>
<td align="left">The lower value of the signature.</td>
<td align="left">-</td>
</tr>
</tbody></table>
<p><br><br><br></p>
<h3 id="tempo-1"><code>tempo</code></h3>
<p><code>tempo</code> defines or changes the current tempo.</p>
<h3 id="examples-9">examples</h3>
<p> <strong>positional:</strong> </p>
<p> <code>tempo: 120;</code></p>
<p> <strong>named:</strong></p>
<p> <code>tempo: _bpm=120;</code></p>
<p> This command can be used as document config:</p>
<p> <code>tempo: 120;</code></p>
<p> or within a track</p>
<p> <code>/tempo: 120/</code></p>
<p> It is also possible to set diffrent tempo values for several tracks:</p>
<p> <a pageScroll [pageScrollDuration]="0" [pageScrollOffset]="66" [routerLink]="['//manual']" fragment="Tempo">see here</a></p>
<h4 id="parameters-8">parameters</h4>
<table class="table table-bordered">
<thead>
<tr>
<th align="left">name</th>
<th align="left">position</th>
<th align="left">description</th>
<th align="left">type</th>
</tr>
</thead>
<tbody><tr>
<td align="left">bpm</td>
<td align="left">1</td>
<td align="left">The tempo bpm value.</td>
<td align="left">-</td>
</tr>
</tbody></table>
<p><br><br><br></p>
<h3 id="voicingstrategy"><code>voicingStrategy</code></h3>
<p>Adds a modification to the track.</p>
<h3 id="examples-10">examples</h3>
<p> <strong>positional:</strong> </p>
<p> <code>/voicingStrategy: asNotated/</code> </p>
<p> <strong>named:</strong></p>
<p> <code>/voicingStrategy: _use=asNotated/</code>  </p>
<p> Voicing strategies can be external lua scripts, or one of theese internal strategies:</p>
<ul>
<li><p>asNotated</p>
</li>
<li><p>simpleGuitar</p>
</li>
</ul>
<h4 id="parameters-9">parameters</h4>
<table class="table table-bordered">
<thead>
<tr>
<th align="left">name</th>
<th align="left">position</th>
<th align="left">description</th>
<th align="left">type</th>
</tr>
</thead>
<tbody><tr>
<td align="left">use</td>
<td align="left">1</td>
<td align="left">The name of the strategy to load. This is the only &quot;unique&quot; parameter for this command. All further parameters are specific to its related strategy.</td>
<td align="left">word</td>
</tr>
</tbody></table>
<p><br><br><br></p>
<h3 id="volume"><code>volume</code></h3>
<p>set the volume of the current track</p>
<h3 id="examples-11">examples</h3>
<p> <strong>positional:</strong> </p>
<p> <code>/volume: 50/</code></p>
<p> <strong>named:</strong></p>
<p> <code>/volume: _to=50/</code></p>
<h4 id="parameters-10">parameters</h4>
<table class="table table-bordered">
<thead>
<tr>
<th align="left">name</th>
<th align="left">position</th>
<th align="left">description</th>
<th align="left">type</th>
</tr>
</thead>
<tbody><tr>
<td align="left">to</td>
<td align="left">1</td>
<td align="left">The volume value.</td>
<td align="left">0..100</td>
</tr>
</tbody></table>
<p><br><br><br></p>
<h2 id="lua-extensions-2">Lua Extensions</h2>
<h3 id="modifications-1">Modifications</h3>
<h3 id="drumrudiments"><code>drumRudiments</code></h3>
<p>Implements a collection of different drum rudiments. (<a href="https://en.wikipedia.org/wiki/Drum_rudiment">see Wikipedia</a>)</p>
<p> You can specify which notes are for <code>L</code> and <code>R</code> and the time measure.</p>
<p> This will be achived by using an chord as source material.</p>
<p> The Chord pitches will be used for <code>L</code> and <code>R</code>.</p>
<p> The length of the chord event defines in which speed the rudiment will be peformed.</p>
<p> The event tag specifies which rudiment will be performed.</p>
<p> For example:</p>
<p> This plays a paradiddle over a length of 1 quarter</p>
<p> using <code>sn1</code> for R and <code>sn2</code> for L:</p>
<pre><code><![CDATA[
 /mod: drumRudiments/
 "paradiddle"@<"sn1" "sn2">4

                 R     L 
 "paradiddle"@<"sn1" "sn2">4]]></code></pre><p> Examples:</p>
<p> <strong>a paradiddle</strong></p>
<tutorialsnippet lineHeight="11" lineOffset="0"><pre><code appWerckmeisterCode><![CDATA[using "lua/mods/drumRudiments.lua";
tempo: 150;
device: MyDevice  midi 0;
instrumentDef:piano  MyDevice  _ch=0 _pc=0;
[
instrument: piano;
{
   /mod: drumRudiments/
   -- a paradiddle (RLRR) with c' for R and c for L
   "paradiddle"@<c' c>1
}
]]]></code></pre></tutorialsnippet><p> <strong>repeating</strong></p>
<tutorialsnippet lineHeight="11" lineOffset="0"><pre><code appWerckmeisterCode><![CDATA[using "lua/mods/drumRudiments.lua";
tempo: 120;
device: MyDevice  midi 0;
instrumentDef:piano  MyDevice  _ch=0 _pc=0;
[
instrument: piano;
{
   /mod: drumRudiments/
   -- performs 4 paradiddles (RLRR) with c' for R and c for L
   "4x paradiddle"@<c' c>1
}
]]]></code></pre></tutorialsnippet><p> <strong>orchestration</strong></p>
<p> If you want to orchestrate a rudiment over a drum set,</p>
<p> you are able to define more R &amp; L notes. The total number of the notes has to be even.</p>
<tutorialsnippet lineHeight="14" lineOffset="0"><pre><code appWerckmeisterCode><![CDATA[using "lua/mods/drumRudiments.lua";
tempo: 120;
device: MyDevice  midi 0;
instrumentDef:piano  MyDevice  _ch=0 _pc=0;
[
instrument: piano;
{
   /mod: drumRudiments/
   -- performs a paradiddlediddle (RLRRLL) with 
   --      c' for R1 and c for L1
   -- and  d' for R2 and d for L2.
   -- The final sequence: c'(R1) c(L1) d'(R2) c(R1) d(L2) c(L1) 
   "paradiddlediddle"@<c' c d' d>1
}
]]]></code></pre></tutorialsnippet><p> <strong>Supported Rudiments</strong></p>
<ul style="font-size: 0.9em;">

<li>singleStrokeRoll</li>

<li>doubleStrokeRoll</li>

<li>trippleStrokeRoll</li>

<li>fiveStrokeRoll</li>

<li>singleStrokeFour</li>

<li>singleStrokeSeven</li>

<li>multipleBounceRoll</li>

<li>sixStrokeRoll</li>

<li>sevenStrokeRoll</li>

<li>nineStrokeRoll</li>

<li>tenStrokeRoll</li>

<li>elevenStrokeRoll</li>

<li>thirteenStrokeRoll</li>

<li>fifteenStrokeRoll</li>

<li>seventeenStrokeRoll</li>

<li>paradiddle</li>

<li>doubleParadiddle</li>

<li>trippleParadiddle</li>

<li>paradiddlediddle</li>

</ul>

<h4 id="parameters-11">parameters</h4>
<p><em>no parameters</em></p>
<h4 id="include-extension">include extension</h4>
<p><code>using &quot;lua/mod/drumRudiments.lua&quot;;</code></p>
<p><br><br><br></p>
<h3 id="guitarstroke"><code>guitarStroke</code></h3>
<p>Simulates guitar strokes as mini arpeggios.</p>
<p> <em>Note: the alternate mode works only if this mod is set via instrumentConf.</em></p>
<pre><code><![CDATA[
 -- does not work: 
 [ 
 { 
   /mod: guitarStroke _mode=alternate/
 } 
 ] ]]></code></pre><pre><code><![CDATA[
 -- does work: 
 instrumentConf: myInstrument mod guitarStroke _mode=alternate; ]]></code></pre><p> <strong>Example</strong></p>
<tutorialsnippet lineHeight="10" lineOffset="0"><pre><code appWerckmeisterCode><![CDATA[using "lua/mods/guitarStroke.lua";
tempo: 120;
device: MyDevice  midi 0;
instrumentDef:  piano  MyDevice  _ch=0 _pc=0;
instrumentConf: piano mod guitarStroke _mode=alternate _value=8; 
[
instrument: piano;
{
  <c e g b>4 <c e g b>4 <c eb g bb>4 <c eb g bb>4
}
]]]></code></pre></tutorialsnippet><h4 id="parameters-12">parameters</h4>
<table class="table table-bordered">
<thead>
<tr>
<th align="left">name</th>
<th align="left">position</th>
<th align="left">description</th>
<th align="left">type</th>
</tr>
</thead>
<tbody><tr>
<td align="left">direction</td>
<td align="left">-</td>
<td align="left">Specifies the start direction of the stroke</td>
<td align="left">[up,down]</td>
</tr>
<tr>
<td align="left">value</td>
<td align="left">-</td>
<td align="left">the duration of one aprgeggio event. (Default=64)</td>
<td align="left">[1,2,4,8,...]</td>
</tr>
<tr>
<td align="left">mode</td>
<td align="left">-</td>
<td align="left">Perform only one stroke direction (normal) or alternates between up and down. (Default=normal)</td>
<td align="left">[normal,alternate]</td>
</tr>
</tbody></table>
<h4 id="include-extension-1">include extension</h4>
<p><code>using &quot;lua/mod/guitarStroke.lua&quot;;</code></p>
<p><br><br><br></p>
<h3 id="legato"><code>legato</code></h3>
<p>Performs every note legato. It is also possible to tag single notes.</p>
<p> If a tag is given, only the tagged notes are performed legato.</p>
<tutorialsnippet lineHeight="11" lineOffset="0"><pre><code appWerckmeisterCode><![CDATA[using "lua/mods/legato.lua";
tempo: 140;
device: MyDevice  midi 0;
instrumentDef:piano  MyDevice  _ch=0 _pc=0;
[
instrument: piano;
{
   /mod: legato _forTag=leg _amount=100/
   -- only the `d` will be performed legato. 
   c "leg"@d e f
}
]]]></code></pre></tutorialsnippet><h4 id="parameters-13">parameters</h4>
<table class="table table-bordered">
<thead>
<tr>
<th align="left">name</th>
<th align="left">position</th>
<th align="left">description</th>
<th align="left">type</th>
</tr>
</thead>
<tbody><tr>
<td align="left">forTag</td>
<td align="left">-</td>
<td align="left">Specifies a tag name. If set only events with this tag name will be affected by the legato mod.</td>
<td align="left">word</td>
</tr>
<tr>
<td align="left">amount</td>
<td align="left">-</td>
<td align="left">The ammount of the legato effect</td>
<td align="left">0..100</td>
</tr>
</tbody></table>
<h4 id="include-extension-2">include extension</h4>
<p><code>using &quot;lua/mod/legato.lua&quot;;</code></p>
<p><br><br><br></p>
<h3 id="myarpeggio"><code>myArpeggio</code></h3>
<p>A simple arpeggio implementation.</p>
<p> <strong>Example</strong></p>
<tutorialsnippet lineHeight="12" lineOffset="0"><pre><code appWerckmeisterCode><![CDATA[using "lua/mods/myArpeggio.lua";
tempo: 120;
device: MyDevice  midi 0;
instrumentDef:  piano  MyDevice  _ch=0 _pc=0;
[
instrument: piano;
{
 /do: myArpeggio/ 
 <c e g b>2 
 /do: myArpeggio _direction=down/ 
 <c eb g bb>2 
}
]]]></code></pre></tutorialsnippet><h4 id="parameters-14">parameters</h4>
<table class="table table-bordered">
<thead>
<tr>
<th align="left">name</th>
<th align="left">position</th>
<th align="left">description</th>
<th align="left">type</th>
</tr>
</thead>
<tbody><tr>
<td align="left">style</td>
<td align="left">-</td>
<td align="left">Performs the arpeggio normal or legato</td>
<td align="left">[normal,legato]</td>
</tr>
<tr>
<td align="left">direction</td>
<td align="left">-</td>
<td align="left">the direction of the aprgeggio. (Default=up)</td>
<td align="left">[up,down]</td>
</tr>
</tbody></table>
<h4 id="include-extension-3">include extension</h4>
<p><code>using &quot;lua/mod/myArpeggio.lua&quot;;</code></p>
<p><br><br><br></p>
<h3 id="staccato"><code>staccato</code></h3>
<p>Performs every note staccato. It is also possible to tag single notes.</p>
<p> If a tag is given, only the tagged notes are performed staccato.</p>
<tutorialsnippet lineHeight="11" lineOffset="0"><pre><code appWerckmeisterCode><![CDATA[using "lua/mods/staccato.lua";
tempo: 140;
device: MyDevice  midi 0;
instrumentDef:piano  MyDevice  _ch=0 _pc=0;
[
instrument: piano;
{
   /mod: staccato _forTag=stac _amount=100/
   -- only the `d` will be performed staccato. 
   c "stac"@d e f
}
]]]></code></pre></tutorialsnippet><h4 id="parameters-15">parameters</h4>
<table class="table table-bordered">
<thead>
<tr>
<th align="left">name</th>
<th align="left">position</th>
<th align="left">description</th>
<th align="left">type</th>
</tr>
</thead>
<tbody><tr>
<td align="left">forTag</td>
<td align="left">-</td>
<td align="left">Specifies a tag name. If set only events with this tag name will be affected by the staccato mod.</td>
<td align="left">word</td>
</tr>
<tr>
<td align="left">amount</td>
<td align="left">-</td>
<td align="left">The ammount of the staccato effect</td>
<td align="left">0..100</td>
</tr>
</tbody></table>
<h4 id="include-extension-4">include extension</h4>
<p><code>using &quot;lua/mod/staccato.lua&quot;;</code></p>
<p><br><br><br></p>
<h3 id="swing"><code>swing</code></h3>
<p>Performs a swing groove.</p>
<tutorialsnippet lineHeight="11" lineOffset="0"><pre><code appWerckmeisterCode><![CDATA[using "lua/mods/swing.lua";
tempo: 120;
device: MyDevice  midi 0;
instrumentDef:  piano  MyDevice  _ch=0 _pc=0;
[
instrument: piano;
{
   /mod: swing/
   c8  c   c   c   c   c   c   c

}
]]]></code></pre></tutorialsnippet><h4 id="parameters-16">parameters</h4>
<table class="table table-bordered">
<thead>
<tr>
<th align="left">name</th>
<th align="left">position</th>
<th align="left">description</th>
<th align="left">type</th>
</tr>
</thead>
<tbody><tr>
<td align="left">grid</td>
<td align="left">-</td>
<td align="left">Performs the swing offset either on 8th or 16th. (Default=8)</td>
<td align="left">[8, 16]</td>
</tr>
<tr>
<td align="left">offset</td>
<td align="left">-</td>
<td align="left">The ammount of the swing offset</td>
<td align="left">0..100</td>
</tr>
</tbody></table>
<h4 id="include-extension-5">include extension</h4>
<p><code>using &quot;lua/mod/swing.lua&quot;;</code></p>
<p><br><br><br></p>
<h3 id="voicing-strategies-2">Voicing Strategies</h3>
<h3 id="guitar"><code>guitar</code></h3>
<p>Tries to simulates the chord voicing of an guitar.</p>
<tutorialsnippet lineHeight="21" lineOffset="0"><pre><code appWerckmeisterCode><![CDATA[using "lua/voicings/guitar.lua";
using "chords/default.chords";

tempo: 120;
device: MyDevice  midi 0;
instrumentDef:piano  MyDevice  _ch=0 _pc=0;
[
type: template;
name: myTemplate;
instrument: piano;
{
   /voicingStrategy: guitar/
   <I II III IV V VI VII>1
}
]
[
type: accomp;

{
  C | F | G | C |
}
]]]></code></pre></tutorialsnippet><h4 id="parameters-17">parameters</h4>
<table class="table table-bordered">
<thead>
<tr>
<th align="left">name</th>
<th align="left">position</th>
<th align="left">description</th>
<th align="left">type</th>
</tr>
</thead>
<tbody><tr>
<td align="left">range</td>
<td align="left">-</td>
<td align="left">If given the strategy tries to keeps the range by shifting the octave of the chord.</td>
<td align="left">[contrabass,bass,baritone,tenor,alto,mezzosoprano,soprano]</td>
</tr>
</tbody></table>
<h4 id="include-extension-6">include extension</h4>
<p><code>using &quot;lua/voicings/guitar.lua&quot;;</code></p>
<p><br><br><br></p>
<h3 id="simple"><code>simple</code></h3>
<p>The simple approach with no strategy.</p>
<tutorialsnippet lineHeight="21" lineOffset="0"><pre><code appWerckmeisterCode><![CDATA[using "lua/voicings/simple.lua";
using "chords/default.chords";

tempo: 120;
device: MyDevice  midi 0;
instrumentDef:piano  MyDevice  _ch=0 _pc=0;
[
type: template;
name: myTemplate;
instrument: piano;
{
   /voicingStrategy: simple/
   <I II III IV V VI VII>1
}
]
[
type: accomp;

{
  C | F | G | C |
}
]]]></code></pre></tutorialsnippet><h4 id="parameters-18">parameters</h4>
<table class="table table-bordered">
<thead>
<tr>
<th align="left">name</th>
<th align="left">position</th>
<th align="left">description</th>
<th align="left">type</th>
</tr>
</thead>
<tbody><tr>
<td align="left">range</td>
<td align="left">-</td>
<td align="left">If given the strategy tries to keeps the range by shifting the octave of the chord.</td>
<td align="left">[contrabass,bass,baritone,tenor,alto,mezzosoprano,soprano]</td>
</tr>
</tbody></table>
<h4 id="include-extension-7">include extension</h4>
<p><code>using &quot;lua/voicings/simple.lua&quot;;</code></p>
<p><br><br><br></p>
<h3 id="voicelead"><code>voicelead</code></h3>
<p>Tries to simulates a voice leading approach:</p>
<p> the octaves of a chord are rearranged, so that the actual pitch distance between the previous chord is kept minimal.</p>
<tutorialsnippet lineHeight="21" lineOffset="0"><pre><code appWerckmeisterCode><![CDATA[using "lua/voicings/voicelead.lua";
using "chords/default.chords";

tempo: 120;
device: MyDevice  midi 0;
instrumentDef:piano  MyDevice  _ch=0 _pc=0;
[
type: template;
name: myTemplate;
instrument: piano;
{
   /voicingStrategy: voicelead/
   <I II III IV V VI VII>1
}
]
[
type: accomp;

{
  C | F | G | C |
}
]]]></code></pre></tutorialsnippet><h4 id="parameters-19">parameters</h4>
<table class="table table-bordered">
<thead>
<tr>
<th align="left">name</th>
<th align="left">position</th>
<th align="left">description</th>
<th align="left">type</th>
</tr>
</thead>
<tbody><tr>
<td align="left">range</td>
<td align="left">-</td>
<td align="left">If given the strategy tries to keeps the range by shifting the octave of the chord.</td>
<td align="left">[contrabass,bass,baritone,tenor,alto,mezzosoprano,soprano]</td>
</tr>
</tbody></table>
<h4 id="include-extension-8">include extension</h4>
<p><code>using &quot;lua/voicings/voicelead.lua&quot;;</code></p>
<p><br><br><br></p>
